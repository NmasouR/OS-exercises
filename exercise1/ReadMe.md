# ΕΡΓΑΣΙΑ 1 2020-2021

Το πρόγραμμα αποτελείται απο 5 processes υλοποιημένες σε c.
Για να τρέξει το πρόγραμμα θα πρέπει να έχουν ανοιχτεί 2 terminals.
Αφού δοθεί η εντολή make σε ένα από αυτά για την μεταγλώττιση και την σύνδεση των αρχείων, πρώτα πρέπει
να τρέξει το process P1 σε ενα από τα terminals.
Για να τρέξει δινεταί η εντολή [./P1 {number}] όπου number είναι ένας αριθμός στο range 0-100 και
συμβολίζει το ποσοστό πιθανότητας αλλαγής των μηνυμάτων.
Στη συνέχεια τρέχουμε την P2 στο άλλο terminal με τον ίδιο τρόπο.
Το πρώτο μήνυμα στέλνετε από το terminal που τρέχει η  P1 και στην συνέχεια συνεχίζονται να στέλνονται εναλλάξ από τα δύο terminals.
Για να κλείσει το πρόργαμμα πρέπει να έχει σταλεί τουλάχιστον 1 μήνυμα από κάθε terminal και κλείνει στέλνοντας το μήνυμα TERM από
κάποιο terminal.
Το μέγεθος των μηνυμάτων είναι μέχρι 30 χαρακτήρες.
Για τη λειτουργία του προγράμματος χρησιμοποιούνται 8 semaphores και 1 shared memory διακοσίων bytes χωρισμένη σε 4 segments των 50 bytes.
O semaphore 0 διαχειρίζεται την εγγραφή/ανάγνωση του πρώτου segment της shared memory από την P1.
O semaphore 1 διαχειρίζεται την εγγραφή/ανάγνωση του πρώτου segment της shared memory από την ENC1.
O semaphore 2 διαχειρίζεται την εγγραφή/ανάγνωση του δεύτερου segment της shared memory από την ENC1.
O semaphore 3 διαχειρίζεται την εγγραφή/ανάγνωση του δεύτερου segment της shared memory από την CHAN.
O semaphore 4 διαχειρίζεται την εγγραφή/ανάγνωση του τρίτου segment της shared memory από την CHAN.
O semaphore 5 διαχειρίζεται την εγγραφή/ανάγνωση του τρίτου segment της shared memory από την ENC2.
O semaphore 6 διαχειρίζεται την εγγραφή/ανάγνωση του τέταρτου segment της shared memory από την ENC2.
O semaphore 7 διαχειρίζεται την εγγραφή/ανάγνωση του τέταρτου segment της shared memory από την P2.
Όταν το μήνυμα της P1/P2 έχει αλλάξει από την CHAN αυτό γίνεται αντιληπτό από τις ENC2/ENC1 αντίστοιχα και ο έλεγχος στέλνεται πίσω στην CHAN
όπου ανακάται το μη αλλοιωμένο μήνυμα από το κατάλληλο segment της shared memory και ξαναγίνεται τυχαία αλλαγή.
Τέλος ο έλεγχος για το αν το μήνυμα έχει αλλάξει γίνεται μέσω της σύγκρισης του αρχικού checksum και του checksum που προκείπτει από το αλλαγμένο 
μήνυμα.



